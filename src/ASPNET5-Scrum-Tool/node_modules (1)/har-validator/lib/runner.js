'use strict'

var schemas = require('./schemas')
var ValidationError = require('./error')
var validator = require('is-my-json-valid')

module.exports = function (schema, data, cb) ***REMOVED***
  // default value
  var valid = false

  // validator config
  var validate = validator(schema, ***REMOVED***
    greedy: true,
    verbose: true,
    schemas: schemas
  ***REMOVED***)

  // execute is-my-json-valid
  if (data !== undefined) ***REMOVED***
    valid = validate(data)
  ***REMOVED***

  // callback?
  if (typeof cb === 'function') ***REMOVED***
    return cb(validate.errors ? new ValidationError(validate.errors) : null, valid)
  ***REMOVED***

  return valid
***REMOVED***
