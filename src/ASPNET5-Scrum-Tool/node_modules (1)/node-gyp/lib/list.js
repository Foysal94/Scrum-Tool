
module.exports = exports = list

exports.usage = 'Prints a listing of the currently installed node development files'

/**
 * Module dependencies.
 */

var fs = require('graceful-fs')
  , path = require('path')
  , log = require('npmlog')

function list (gyp, args, callback) ***REMOVED***

  var devDir = gyp.devDir
  log.verbose('list', 'using node-gyp dir:', devDir)

  // readdir() the node-gyp dir
  fs.readdir(devDir, onreaddir)

  function onreaddir (err, versions) ***REMOVED***
    if (err && err.code != 'ENOENT') ***REMOVED***
      return callback(err)
***REMOVED***
    if (Array.isArray(versions)) ***REMOVED***
      versions = versions.filter(function (v) ***REMOVED*** return v != 'current' ***REMOVED***)
***REMOVED*** else ***REMOVED***
      versions = []
***REMOVED***
    callback(null, versions)
  ***REMOVED***
***REMOVED***
