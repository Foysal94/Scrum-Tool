#include <cmath>
#include <sstream>
#include <iomanip>
#include <iostream>

#include "ast.hpp"
#include "inspect.hpp"
#include "context.hpp"
#include "to_string.hpp"

namespace Sass ***REMOVED***

  To_String::To_String(Context* ctx, bool in_declaration, bool in_debug)
  : ctx(ctx), in_declaration(in_declaration), in_debug(in_debug) ***REMOVED*** ***REMOVED***
  To_String::~To_String() ***REMOVED*** ***REMOVED***

  inline std::string To_String::fallback_impl(AST_Node* n)
  ***REMOVED***
    Emitter emitter(ctx);
    Inspect i(emitter);
    i.in_declaration = in_declaration;
    i.in_debug = in_debug;
    if (n) n->perform(&i);
    return i.get_buffer();
  ***REMOVED***

  inline std::string To_String::operator()(String_Schema* s)
  ***REMOVED***
    std::string acc("");
    for (size_t i = 0, L = s->length(); i < L; ++i) ***REMOVED***
      acc += s->elements()[i]->perform(this);
***REMOVED***
    return acc;
  ***REMOVED***

  inline std::string To_String::operator()(String_Quoted* s)
  ***REMOVED***
    return s->value();
  ***REMOVED***

  inline std::string To_String::operator()(String_Constant* s)
  ***REMOVED***
    return s->value();
  ***REMOVED***

  inline std::string To_String::operator()(Null* n)
  ***REMOVED*** return in_debug ? "null" : ""; ***REMOVED***
***REMOVED***
